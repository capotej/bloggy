<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: CHANGELOG</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>CHANGELOG</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>CHANGELOG
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Tue Dec 09 22:52:50 UTC 2008</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h3>2.8.0 (2008-12-05)</h3>
<ul>
<li>Support drop column operations inside a transaction on sqlite (jeremyevans)

</li>
<li>Support literal strings with placeholders and subselects in prepared
statements (jeremyevans)

</li>
<li>Have the connection pool remove disconnected connections when the adapter
supports it (jeremyevans)

</li>
<li>Make Dataset#exists return a LiteralString (jeremyevans)

</li>
<li>Support multiple SQL statements in one query in the MySQL adapter
(jeremyevans)

</li>
<li>Add stored procedure support for the MySQL and JDBC adapters (jeremyevans,
krsgoss) (252)

</li>
<li>Support options when altering a column&#8216;s type (for changing enums,
varchar size, etc.) (jeremyevans)

</li>
<li>Support AliasedExpressions in tables when using implicitly qualified
arguments in joins (jeremyevans)

</li>
<li>Support Dataset#except on Oracle (jeremyevans)

</li>
<li>Raise errors when EXCEPT/INTERSECT is used when not supported (jeremyevans)

</li>
<li>Fix ordering of UNION, INTERSECT, and EXCEPT statements (jeremyevans) (253)

</li>
<li>Support aliasing subselects in the Oracle adapter (jeremyevans)

</li>
<li>Add a subadapter for the Progress RDBMS to the ODBC adapter
(:db_type=&gt;&#8217;progress&#8217;) (groveriffic) (251)

</li>
<li>Make MySQL and Oracle adapters raise an Error if asked to do a SELECT
DISTINCT ON (jeremyevans)

</li>
<li>Set standard_conforming_strings = ON by default when using PostgreSQL, turn
off with Sequel::Postgres.force_standard_strings = false (jeremyevans)
(247)

</li>
<li>Fix Database#rename_table when using PostgreSQL (jeremyevans) (248)

</li>
<li>Whether to upcase or quote identifiers can now be set separately, via
Sequel.upcase_identifiers= or the :upcase_identifiers database option
(jeremyevans)

</li>
<li>Support transactions in the ODBC adapter (dlee)

</li>
<li>Support multi_insert_sql and unicode string literals in MSSQL shared
adapter (dlee)

</li>
<li>Make PostgreSQL use the default schema if parsing the schema for all tables
at once, even if :schema=&gt;nil option is used (jeremyevans)

</li>
<li>Make MySQL adapter not raise an error when giving an SQL::Identifier object
to the schema modification methods such as create_table (jeremyevans)

</li>
<li>The keys of the hash returned by Database#schema without a table name are
now quoted strings instead of symbols (jeremyevans)

</li>
<li>Make Database#schema to handle implicit schemas on all databases and
multiple identifier object types (jeremyevans)

</li>
<li>Remove Sequel.odbc_mssql method (jeremyevans) (249)

</li>
<li>More optimization of Model#initialize (jeremyevans)

</li>
<li>Treat interval as it&#8216;s own type, not an integer type (jeremyevans)

</li>
<li>Allow use of implicitly qualified symbol as argument to Symbol#qualify
(:a.qualify(:b__c)=&gt;b.c.a), fixes model associations in different
schemas (jeremyevans) (246)

</li>
</ul>
<h3>2.7.1 (2008-11-04)</h3>
<ul>
<li>Fix PostgreSQL Date optimization so that it doesn&#8216;t reject dates like
11/03/2008 (jeremyevans)

</li>
</ul>
<h3>2.7.0 (2008-11-03)</h3>
<ul>
<li>Transform AssociationReflection from a single class to a class hierarchy
(jeremyevans)

</li>
<li>Optimize Date object creation in PostgreSQL adapter (jeremyevans)

</li>
<li>Allow easier creation of custom association types, though support for them
may still be suboptimal (jeremyevans)

</li>
<li>Add :eager_grapher option to associations, which the user can use to
override the default eager_graph code (jeremyevans)

</li>
<li>Associations are now inherited when a model class is subclassed
(jeremyevans)

</li>
<li>Instance methods added by associations are now added to an anonymous module
the class includes, allowing you to override them and use super
(jeremyevans)

</li>
<li>Add add_graph_aliases (select_more for graphs), and allow use of arbitrary
expressions when graphing (jeremyevans)

</li>
<li>Fix a corner case where the wrong table name is used in eager_graph
(jeremyevans)

</li>
<li>Make Dataset#join_table take an option hash instead of a table_alias
argument, add support for :implicit_qualifier option (jeremyevans)

</li>
<li>Add :left_primary_key and :right_primary_key options to many_to_many
associations (jeremyevans)

</li>
<li>Add :primary_key option to one_to_many and many_to_one associations
(jeremyevans)

</li>
<li>Make after_load association callbacks take effect when eager loading via
eager (jeremyevans)

</li>
<li>Add a :uniq association option to many_to_many associations (jeremyevans)

</li>
<li>Support using any expression as the argument to Symbol#like (jeremyevans)

</li>
<li>Much better support for multiple schemas in PostgreSQL (jeremyevans) (243)

</li>
<li>The first argument to Model#initalize can no longer be nil, it must be a
hash if it is given (jeremyevans)

</li>
<li>Remove Sequel::Model.lazy_load_schema= setting (jeremyevans)

</li>
<li>Lazily load model instance options such as raise_on_save_failure, for
better performance (jeremyevans)

</li>
<li>Make Model::Validiation::Errors more Rails-compatible (jeremyevans)

</li>
<li>Refactor model hooks for performance (jeremyevans)

</li>
<li>Major performance enhancement when fetching rows using PostgreSQL
(jeremyevans)

</li>
<li>Don&#8216;t typecast serialized columns in models (jeremyevans)

</li>
<li>Add <a href="../classes/Array.html#M000040">Array#sql_array</a> to handle
ruby arrays of all two pairs as SQL arrays (jeremyevans) (245)

</li>
<li>Add ComplexExpression#== and eql?, for checking equality (rubymage) (244)

</li>
<li>Allow full text search on PostgreSQL to include rows where a search column
is NULL (jeremyevans)

</li>
<li>PostgreSQL full text search queries with multiple columns are joined with
space to prevent joining border words to one (michalbugno)

</li>
<li>Don&#8216;t modify a dataset&#8216;s cached column information if calling
each with an option that modifies the columns (jeremyevans)

</li>
<li>The PostgreSQL adapter will now generally default to using a unix socket in
/tmp if no host is specified, instead of a tcp socket to localhost
(jeremyevans)

</li>
<li>Make Dataset#sql call Dataset#select_sql instead of being an alias, to
allow for easier subclassing (jeremyevans)

</li>
<li>Split Oracle adapter into shared and unshared parts, so Oracle is better
supported when using JDBC (jeremyevans)

</li>
<li>Fix automatic loading of Oracle driver when using JDBC adapter (bburton333)
(242)

</li>
</ul>
<h3>2.6.0 (2008-10-11)</h3>
<ul>
<li>Make the sqlite adapter respect the Sequel.datetime_class setting, for
timestamp and datetime types (jeremyevans)

</li>
<li>Enhance the CASE statement support to include an optional expression
(jarredholman)

</li>
<li>Default to using the simple language if no language is specified for a full
text index on PostgreSQL (michalbugno)

</li>
<li>Add Model.raise_on_typecast_failure=, which makes it possible to not raise
errors on invalid typecasts (michalbugno)

</li>
<li>Add schema.rdoc file, which provides an brief description of the various
parts of <a href="../classes/Sequel.html">Sequel</a> related to schema
modification (jeremyevans)

</li>
<li>Fix constraint generation when not using a proc or interpolated string
(jeremyevans)

</li>
<li>Make eager_graph respect associations&#8217; :order options (use
:order_eager_graph=&gt;false to disable) (jeremyevans)

</li>
<li>Cache negative lookup when eagerly loading many_to_one associations where
no objects have an associated object (jeremyevans)

</li>
<li>Allow string keys to be used when using Dataset#multi_insert (jeremyevans)

</li>
<li>Fix join_table when doing the first join for a dataset where the first
source is a dataset when using unqualified columns (jeremyevans)

</li>
<li>Fix a few corner cases in eager_graph (jeremyevans)

</li>
<li>Support transactions on MSSQL (jeremyevans)

</li>
<li>Use string literals in AS clauses on SQLite (jeremyevans) (241)

</li>
<li>AlterTableGenerator#set_column_allow_null was added to SET/DROP NOT NULL
for columns (divoxx)

</li>
<li>Database#tables now works for MySQL databases using the JDBC adapter
(jeremyevans)

</li>
<li>Database#drop_view can now take multiple arguments to drop multiple views
at once (jeremyevans)

</li>
<li>Schema modification methods (e.g. drop_table, create_table!) now remove the
cached schema entry (jeremyevans)

</li>
<li>Models can now determine their primary keys by looking at the schema
(jeremyevans)

</li>
<li>No longer include :numeric_precision and :max_chars entries in the schema
column hashes, use the :db_type entry instead (jeremyevans)

</li>
<li>Make schema parsing on PostgreSQL handle implicit schemas (e.g.
schema(:schema__table)), so it works with models for tables outside the
public schema (jeremyevans)

</li>
<li>Significantly speed up schema parsing on MySQL (jeremyevans)

</li>
<li>Include primary key information when parsing the schema (jeremyevans)

</li>
<li>Fix schema generation of composite foreign keys on MySQL (clivecrous,
jeremyevans)

</li>
</ul>
<h3>2.5.0 (2008-09-03)</h3>
<ul>
<li>Add Dataset set_defaults and set_overrides, used for scoping the values
used in insert/update statements (jeremyevans)

</li>
<li>Allow Models to use the RETURNING clause when inserting records on
PostgreSQL (jeremyevans)

</li>
<li>Raise <a
href="../classes/Sequel/DatabaseError.html">Sequel::DatabaseError</a>
instead of generic <a href="../classes/Sequel/Error.html">Sequel::Error</a>
for database errors, don&#8216;t swallow tracebacks (jeremyevans)

</li>
<li>Use INSERT &#8230; RETURNING &#8230; with PostgreSQL 8.2 and higher
(jeremyevans)

</li>
<li>Make insert_sql, delete_sql, and update_sql respect the :sql option
(jeremyevans)

</li>
<li>Default to converting 2 digit years, use Sequel.convert_two_digit_years =
false to get back the old behavior (jeremyevans)

</li>
<li>Make the PostgreSQL adapter with the pg driver use async_exec, so it
doesn&#8216;t block the entire interpreter (jeremyevans)

</li>
<li>Make the schema generators support composite primary and foreign keys and
unique constraints (jarredholman)

</li>
<li>Work with the 2008.08.17 version of the pg gem (erikh)

</li>
<li>Disallow abuse of SQL function syntax for types (use :type=&gt;:varchar,
:size=&gt;255 instead of :type=&gt;:varchar[255]) (jeremyevans)

</li>
<li>Quote index names when creating or dropping indexes (jeremyevans,
SanityInAnarchy)

</li>
<li>Don&#8216;t have column accessor methods override plugin instance methods
(jeremyevans)

</li>
<li>Allow validation of multiple attributes at once, with built in support for
uniqueness checking of multiple columns (jeremyevans)

</li>
<li>In PostgreSQL adapter, fix inserting a row with a primary key value inside
a transaction (jeremyevans)

</li>
<li>Allow before_save and before_update to affect the columns saved by
save_changes (jeremyevans)

</li>
<li>Make Dataset#single_value work when graphing, which fixes count and
paginate on graphed datasets (jeremyevans)

</li>
</ul>
<h3>2.4.0 (2008-08-06)</h3>
<ul>
<li>Handle Java::JavaSql::Date type in the JDBC adapter (jeremyevans)

</li>
<li>Add support for read-only slave/writable master databases and database
sharding (jeremyevans)

</li>
<li>Remove InvalidExpression, InvalidFilter, InvalidJoinType, and WorkerStop
exceptions (jeremyevans)

</li>
<li>Add prepared statement/bound variable support (jeremyevans)

</li>
<li>Fix anonymous column names in the ADO adapter (nusco)

</li>
<li>Remove odbc_mssql adapter, use :db_type=&gt;&#8217;mssql&#8217; option
instead (jeremyevans)

</li>
<li>Split MSSQL specific syntax into separate file, usable by ADO and ODBC
adapters (nusco, jeremyevans)

</li>
</ul>
<h3>2.3.0 (2008-07-25)</h3>
<ul>
<li>Enable almost full support for MySQL using JDBC (jeremyevans)

</li>
<li>Fix ODBC adapter&#8216;s conversion of ::ODBC::Time values (Michael Xavier)

</li>
<li>Enable full support for SQLite-JDBC using the JDBC adapter (jeremyevans)

</li>
<li>Minor changes to allow for full Ruby 1.9 compatibility (jeremyevans)

</li>
<li>Make Database#disconnect work for the ADO adapter (spicyj)

</li>
<li>Don&#8216;t raise an exception in the ADO adapter if the dataset contains
no records (nusco)

</li>
<li>Enable almost full support of PostgreSQL-JDBC using the JDBC adapter
(jeremyevans)

</li>
<li>Remove Sequel::Worker (jeremyevans)

</li>
<li>Make PostgreSQL adapter not raise an error when inserting records into a
table without a primary key (jeremyevans)

</li>
<li>Make Database.uri_to_options a private class method (jeremyevans)

</li>
<li>Make JDBC load drivers automatically for PostgreSQL, MySQL, SQLite, Oracle,
and MSSQL (jeremyevans)

</li>
<li>Make Oracle adapter work with a nonstandard Oracle database port
(pavel.lukin)

</li>
<li>Typecast &#8217;&#8217; to nil by default for non-string non-blob columns,
add typecast_empty_string_to_nil= model class and instance methods
(jeremyevans)

</li>
<li>Use a simpler select in Dataset#empty?, fixes use with MySQL (jeremyevans)

</li>
<li>Add integration test suite, testing sequel against a real database, with
nothing mocked (jeremyevans)

</li>
<li>Make validates_length_of default tag depend on presence of options passed
to it (jeremyevans)

</li>
<li>Combine the directory structure for sequel_model and sequel_core, now there
is going to be only one gem named sequel (jeremyevans)

</li>
</ul>
<h3>2.2.0 (2008-07-05)</h3>
<ul>
<li>Add :extend association option, extending the dataset with module(s)
(jeremyevans)

</li>
<li>Add :after_load association callback option, called after associated
objects have been loaded from the database (jeremyevans)

</li>
<li>Make validation methods support a :tag option, to work correctly with
source reloading (jeremyevans)

</li>
<li>Add :before_add, :after_add, :before_remove, :after_remove association
callback options (jeremyevans)

</li>
<li>Break many_to_one association setter method in two parts, for easier
overriding (jeremyevans)

</li>
<li>Model.validates_presence_of now considers false as present instead of
absent (jeremyevans)

</li>
<li>Add Model.raise_on_save_failure, raising errors on save failure instead of
return false (now nil), default to true (jeremyevans)

</li>
<li>Add :eager_loader association option, to specify code to be run when eager
loading (jeremyevans)

</li>
<li>Make :many_to_one associations support :dataset, :order, :limit association
options, as well as block arguments (jeremyevans)

</li>
<li>Add :dataset association option, which overrides the default base dataset
to use (jeremyevans)

</li>
<li>Add :eager_graph association option, works just like :eager except it uses
eager_graph (jeremyevans)

</li>
<li>Add :graph_join_table_join_type association option (jeremyevans)

</li>
<li>Add :graph_only_conditions and :graph_join_table_only_conditions
association options (jeremyevans)

</li>
<li>Add :graph_block and :graph_join_table_block association options
(jeremyevans)

</li>
<li>Set the model&#8216;s dataset&#8216;s columns in addition to the
model&#8216;s columns when loading the schema for a model (jeremyevans)

</li>
<li>Make caching work correctly with subclasses (jeremyevans)

</li>
<li>Add the Model.to_hash dataset method (jeremyevans)

</li>
<li>Filter blocks now yield a SQL::VirtualRow argument, which is useful if
another library defines operator methods on <a
href="../classes/Symbol.html">Symbol</a> (jeremyevans)

</li>
<li>Add Symbol#identifier method, to make x__a be treated as &quot;x__a&quot;
instead of &quot;x&quot;.&quot;a&quot; (jeremyevans)

</li>
<li>Dataset#update no longer takes a block, please use a hash argument with the
expression syntax instead (jeremyevans)

</li>
<li>ParseTree support has been removed from <a
href="../classes/Sequel.html">Sequel</a> (jeremyevans)

</li>
<li>Database#drop_column is now supported in the SQLite adapter (abhay)

</li>
<li>Tinyint columns can now be considered integers instead of booleans by
setting Sequel.convert_tinyint_to_bool = false (samsouder)

</li>
<li>Allow the use of URL parameters in connection strings (jeremyevans)

</li>
<li>Ignore any previously selected columns when using Dataset#graph for the
first time (jeremyevans)

</li>
<li>Dataset#graph now accepts a block which is passed to join_table
(jeremyevans)

</li>
<li>Make Dataset#columns ignore any filtering, ordering, and distinct clauses
(jeremyevans)

</li>
<li>Use the safer connection-specific string escaping methods for PostgreSQL
(jeremyevans)

</li>
<li>Database#transaction now yields a connection when using the Postgres
adapter, just like it does for other adapters (jeremyevans)

</li>
<li>Dataset#count now works for a limited dataset (divoxx)

</li>
<li>Database#add_index is now supported in the SQLite adapter (abhay)

</li>
<li><a href="../classes/Sequel.html">Sequel</a>&#8216;s MySQL adapter should no
longer conflict with ActiveRecord&#8216;s use of MySQL (careo)

</li>
<li>Treat <a href="../classes/Hash.html">Hash</a> as expression instead of
column alias when used in DISTINCT, ORDER BY, and GROUP BY clauses
(jeremyevans)

</li>
<li>PostgreSQL bytea fields are now fully supported (dlee)

</li>
<li>For PostgreSQL, don&#8216;t raise an error when assigning a value to a
SERIAL PRIMARY KEY field when inserting records (jeremyevans)

</li>
</ul>
<h3>2.1.0 (2008-06-17)</h3>
<ul>
<li>Break association add_/remove_/remove_all_ methods into two parts, for
easier overriding (jeremyevans)

</li>
<li>Add Model.strict_param_setting, on by default, which raises errors if a
missing/restricted method is called via new/set/update/etc. (jeremyevans)

</li>
<li>Raise errors when using association methods on objects without valid
primary keys (jeremyevans)

</li>
<li>The model&#8216;s primary key is a restricted column by default, Add
model.unrestrict_primary_key to get the old behavior (jeremyevans)

</li>
<li>Add Model.set_(allowed|restricted)_columns, which affect which columns
create/new/set/update/etc. modify (jeremyevans)

</li>
<li>Calls to Model.def_dataset_method with a block are cached and reapplied to
the new dataset if set_dataset is called, even in a subclass (jeremyevans)

</li>
<li>The :reciprocal option to associations should now be the symbol name of the
reciprocal association, not an instance variable symbol (jeremyevans)

</li>
<li>Add Model#associations, which is a hash holding a cache of associated
objects, with each association being a separate key (jeremyevans)

</li>
<li>Make all associations support a :graph_select option, specifying a column
or array of columns to select when using eager_graph (jeremyevans)

</li>
<li>Bring back Model#set and Model#update, now the same as
Model#set_with_params and Model#update_with_params (jeremyevans)

</li>
<li>Allow model datasets to call to_hash without any arguments, which allows
easy creation of identity maps (jeremyevans)

</li>
<li>Add Model.set_sti_key, for easily setting up single table inheritance
(jeremyevans)

</li>
<li>Make all associations support a :read_only option, which doesn&#8216;t add
methods that modify the database (jeremyevans)

</li>
<li>Make *_to_many associations support a :limit option, for specifying a limit
to the resulting records (and possibly an offset) (jeremyevans)

</li>
<li>Make association block argument and :eager option affect the _dataset
method (jeremyevans)

</li>
<li>Add a :one_to_one option to one_to_many associations, which creates a
getter and setter similar to many_to_one (a.k.a. has_one) (jeremyevans)

</li>
<li>add_ and remove_ one_to_many association methods now raise an error if the
passed object cannot be saved, instead of saving without validation
(jeremyevans)

</li>
<li>Add support for :if option on validations, using a symbol (specifying an
instance method) or a proc (dtsato)

</li>
<li>Support bitwise operators for NumericExpressions: &amp;, |, ^, ~, &lt;&lt;,
&gt;&gt; (jeremyevans)

</li>
<li>No longer raise an error for Dataset#filter(true) or Dataset#filter(false)
(jeremyevans)

</li>
<li>Allow Dataset filter, or, exclude and other methods that call them to use
both the block and regular arguments (jeremyevans)

</li>
<li>ParseTree support is now officially deprecated, use <a
href="../classes/Sequel.html#M000076">Sequel.use_parse_tree</a> = false to
use the expression (blockless) filters inside blocks (jeremyevans)

</li>
<li>Remove :pool_reuse_connections ConnectionPool/Database option, MySQL users
need to be careful with nested queries (jeremyevans)

</li>
<li>Allow Dataset#graph :select option to take an array of columns to select
(jeremyevans)

</li>
<li>Allow Dataset#to_hash to be called with only one argument, allowing for
easy creation of lookup tables for a single key (jeremyevans)

</li>
<li>Allow join_table to accept a block providing the aliases and previous
joins, that allows you to specify arbitrary conditions properly qualified
(jeremyevans)

</li>
<li>Support NATURAL, CROSS, and USING joins in join_table (jeremyevans)

</li>
<li>Make sure HAVING comes before ORDER BY, per the SQL standard and at least
MySQL, PostgreSQL, and SQLite (juco)

</li>
<li>Add cast_numeric and cast_string methods for use in the <a
href="../classes/Sequel.html">Sequel</a> DSL, that have default types and
wrap the object in the correct class (jeremyevans)

</li>
<li>Add Symbol#qualify, for adding a table/schema qualifier to a column/table
name (jeremyevans)

</li>
<li>Remove Module#metaprivate, since it duplicates the standard
Module#private_class_method (jeremyevans)

</li>
<li>Support the SQL CASE expression via <a
href="../classes/Array.html#M000039">Array#case</a> and <a
href="../classes/Hash.html#M000051">Hash#case</a> (jeremyevans)

</li>
<li>Support the SQL EXTRACT function: :date.extract(:year) (jeremyevans)

</li>
<li>Convert numeric fields to BigDecimal in PostgreSQL adapter (jeremyevans)

</li>
<li>Add :decimal fields to the schema parser (jeremyevans)

</li>
<li>The expr argument in join table now allows the same argument as filter, so
it can take a string or a blockless filter expression (brushbox,
jeremyevans)

</li>
<li>No longer assume the expr argument to join_table references the primary key
column (jeremyevans)

</li>
<li>Rename the Sequel.time_class setting to Sequel.datetime_class (jeremyevans)

</li>
<li>Add savepoint/nesting support to postgresql transactions (elven)

</li>
<li>Use the specified table alias when joining a dataset, instead of the
automatically generated alias (brushbox)

</li>
</ul>
<h3>2.0.1 (2008-06-04)</h3>
<ul>
<li>Make the choice of Time or DateTime optional for typecasting :datetime
types, default to Time (jeremyevans)

</li>
<li>Reload database schema for table when calling Model.create_table
(jeremyevans)

</li>
<li>Have PostgreSQL money type use BigDecimal instead of Float (jeremyevans)

</li>
<li>Have the PostgreSQL and MySQL adapters use the Sequel.time_class setting
for datetime/timestamp types (jeremyevans)

</li>
<li>Add Sequel.time_class and <a
href="../classes/String.html#M000024">String#to_sequel_time</a>, used for
converting time values from the database to either Time (default) or
DateTime (jeremyevans)

</li>
<li>Make identifier quoting uppercase by default, to work better with the SQL
standard, override in PostgreSQL (jeremyevans) (232)

</li>
<li>Add StringExpression#+, for simple SQL string concatenation (:x.sql_string
+ :y) (jeremyevans)

</li>
<li>Make StringMethods.like to a case sensensitive search on MySQL (use ilike
for the old behavior) (jeremyevans)

</li>
<li>Add StringMethods.ilike, for case insensitive pattern matching
(jeremyevans)

</li>
<li>Refactor ComplexExpression into three subclasses and a few modules, so
operators that don&#8216;t make sense are not defined for the class
(jeremyevans)

</li>
</ul>
<h3>2.0.0 (2008-06-01)</h3>
<ul>
<li>Comprehensive update of all documentation (jeremyevans)

</li>
<li>Remove methods deprecated in 1.5.0 (jeremyevans)

</li>
<li>Add typecasting on attribute assignment to <a
href="../classes/Sequel/Model.html">Sequel::Model</a> objects, optional but
enabled by default (jeremyevans)

</li>
<li>Returning false in one of the before_ hooks now causes the appropriate
method(s) to immediately return false (jeremyevans)

</li>
<li>Add remove_all_* association method for *_to_many associations, which
removes the association with all currently associated objects (jeremyevans)

</li>
<li>Add Model.lazy_load_schema=, when set to true, it loads the schema on first
instantiation (jeremyevans)

</li>
<li>Add before_validation and after_validation hooks, called whenever the model
is validated (jeremyevans)

</li>
<li>Add Model.default_foreign_key, a private class method that allows changing
the default foreign key that <a href="../classes/Sequel.html">Sequel</a>
will use in associations (jeremyevans)

</li>
<li>Cache negative lookup when eagerly loading many_to_one associations
(jeremyevans)

</li>
<li>Make all associations support the :select option, not just many_to_many
(jeremyevans)

</li>
<li>Allow the use of blocks when eager loading, and add the :eager_block and
:allow_eager association options for configuration (jeremyevans)

</li>
<li>Add the :graph_join_type, :graph_conditions, and
:graph_join_table_conditions association options, used when eager graphing
(jeremyevans)

</li>
<li>Add AssociationReflection class (subclass of <a
href="../classes/Hash.html">Hash</a>), to make calling a couple of private
Model methods unnecessary (jeremyevans)

</li>
<li>Change hook methods so that if a tag/method is specified it overwrites an
existing hook block with the same tag/method (jeremyevans)

</li>
<li>Refactor <a href="../classes/String.html">String</a> inflection support,
you must use <a
href="../classes/String.html#M000001">String.inflections</a> instead of
Inflector.inflections now (jeremyevans)

</li>
<li>Allow connection to ODBC-MSSQL via a URL (petersumskas) (230)

</li>
<li>Comprehensive update of all documentation, except for the block filters and
adapters (jeremyevans)

</li>
<li>Handle Date and DateTime value literalization correctly in adapters
(jeremyevans)

</li>
<li>Literalize DateTime values the same as Time values (jeremyevans)

</li>
<li>MySQL tinyints are now returned as boolean values instead of integers
(jeremyevans)

</li>
<li>Set additional MySQL charset options required for creating tables and
databases (tmm1)

</li>
<li>Remove methods deprecated in 1.5.0 (jeremyevans)

</li>
<li>Add Module#metaattr_accessor for creating attr_accessors for the metaclass
(jeremyevans)

</li>
<li>Add SQL string concatenation support to blockless filters, via <a
href="../classes/Array.html#M000044">Array#sql_string_join</a>
(jeremyevans)

</li>
<li>Add Pagination#last_page? and Pagination#first_page? (apeiros)

</li>
<li>Add limited column reflection support, tested on PostgreSQL, MySQL, and
SQLite (jeremyevans)

</li>
<li>Allow the use of :schema__table___table_alias syntax for tables, similar to
the column support (jeremyevans)

</li>
<li>Merge metaid gem into core_ext.rb and clean it up, so sequel now has no
external dependencies (jeremyevans)

</li>
<li>Add Dataset#as, so using a dataset as a column with an alias is not
deprecated (jeremyevans)

</li>
<li>Add Dataset#invert, which returns a dataset with inverted HAVING and WHERE
clauses (jeremyevans)

</li>
<li>Add blockless filter syntax support (jeremyevans)

</li>
<li>Passing an array to Dataset#order and Dataset#select no longer works, you
need to pass multiple arguments (jeremyevans)

</li>
<li>You should use &#8217;?&#8217; instead of &#8217;(?)&#8217; when using
interpolated strings with array arguments (jeremyevans)

</li>
<li>Dataset.literal now surrounds the literalization of arrays with parentheses
(jeremyevans)

</li>
<li>Add echo option (back?) to sequel command line tool, via -E or &#8212;echo
(jeremyevans)

</li>
<li>Allow databases to have multiple loggers (jeremyevans)

</li>
<li>The sequel command line tool now also accepts a path to a database config
YAML file in addition to a URI (mtodd)

</li>
<li>Major update of the postgresql adapter (jdavis, jeremyevans) (225)

</li>
<li>Make returning inside of a database transaction commit the transaction
(ahoward, jeremyevans)

</li>
<li>Dataset#to_table_reference is now protected, and it has a different API
(jeremyevans)

</li>
<li>Dataset#join_table and related functions now take an explicit optional
table_alias argument, you can no longer include the table alias in the
table argument (jeremyevans)

</li>
<li>Aliased and/or qualified columns with embedded spaces can now be specified
as symbols (jeremyevans)

</li>
<li>When identifier quoting is enabled, the SQL standard double quote is used
by default (jeremyevans)

</li>
<li>When identifier quoting is enabled, quote tables as well as columns
(jeremyevans)

</li>
<li>Make identifier quoting optional, enabled by default (jeremyevans)

</li>
<li>Allow Sequel::Database.connect and related methods to take a block that
disconnects the database when the block finishes (jeremyevans)

</li>
<li>Add Dataset#unfiltered, for removing filters from dataset (jeremyevans)

</li>
<li>Add add_foreign_key and add_primary_key methods to the AlterTableGenerator
(jeremyevans)

</li>
<li>Allow migration files to have more than 3 digits (jeremyevans)

</li>
<li>Add methods directly to Dataset instead of including modules (jeremyevans)

</li>
<li>Make some Dataset instance methods private: invert_order,
insert_default_values_sql (jeremyevans)

</li>
<li>Don&#8216;t add methods that depend on ParseTree unless you can load
ParseTree (jeremyevans)

</li>
<li>Don&#8216;t wipeout the cached columns every time a dataset is cloned, but
only on changes to :select, :sql, :from, or :join (jeremyevans)

</li>
<li>Fix Oracle Adapter (yasushi.abe)

</li>
<li>Fixed sqlite uri so that sqlite:// works just like file:// (2 slashes for a
relative path, 3 for an absolute) (dlee)

</li>
<li>Raise a <a href="../classes/Sequel/Error.html">Sequel::Error</a> if an
invalid limit or offset is used (jeremyevans)

</li>
<li>Refactor and beef up Dataset#first and Dataset#last, with some change in
functionality (jeremyevans)

</li>
<li>Add <a href="../classes/String.html#M000023">String#to_datetime</a>, for
consistency (jeremyevans)

</li>
<li>Fix <a href="../classes/Range.html#M000068">Range#interval</a> so that it
returns 1 less for an exclusive range

</li>
<li>Change SQLite adapter so it doesn&#8216;t swallow exceptions other than
SQLite3::Exception (such as Interrupt) (jeremyevans)

</li>
<li>Change PostgreSQL and MySQL adapters to raise <a
href="../classes/Sequel/Error.html">Sequel::Error</a> instead of database
specific errors if a database error occurs (jeremyevans)

</li>
<li>Using a memory database with SQLite now defaults to a single connection, so
all queries it uses run against the same database (jeremyevans)

</li>
<li>Fix attempting to query MySQL using the same connection being used to
concurrently execute another query (jeremyevans)

</li>
<li>Add options to the connection pool to configure reusing connections and
converting exceptions (jeremyevans)

</li>
<li>Use the database driver provided string quoting methods for MySQL and
SQLite (jeremyevans) (223)

</li>
<li>Add ColumnAll#==, for checking the equality of two ColumnAlls (jeremyevans)

</li>
<li>Allow an array of arrays instead of a hash when specifying conditions
(jeremyevans)

</li>
<li>Add Sequel::DBI::Database#lowercase, for lowercasing column names
(jamesearl)

</li>
<li>Remove Dataset#extend_with_destroy, which may break code that uses
Dataset#set_model directly and expects the destroy method to be added
(jeremyevans)

</li>
<li>Fix some issues when running on Ruby 1.9 (Zverok, jeremyevans)

</li>
<li>Make the DBI adapter work (partially) with PostgreSQL (Seb)

</li>
</ul>
<h3>1.5.1 (2008-04-30)</h3>
<ul>
<li>Fix Dataset#eager_graph when not all objects have associated objects
(jeremyevans)

</li>
<li>Have Dataset#graph give a nil value instead of a hash with all nil values
if no matching rows exist in the graphed table (jeremyevans)

</li>
</ul>
<h3>1.5.0 (2008-04-29)</h3>
<ul>
<li>Make the validation errors API compatible with Merb (Inviz)

</li>
<li>Add validates_uniqueness_of, for protecting against duplicate entries in
the database (neaf, jeremyevans)

</li>
<li>Alias Model#dataset= to Model#set_dataset (tmm1)

</li>
<li>Make some Model class methods private: def_hook_method, hooks, add_hook,
plugin_module, plugin_gem (jeremyevans)

</li>
<li>Add the eager! and eager_graph! mutation methods to model datasets
(jeremyevans)

</li>
<li>Remove Model.database_opened (jeremyevans)

</li>
<li>Remove Model.super_dataset (jeremyevans)

</li>
<li>Deprecate .create_with_params, .create_with, set, update, update_with, and
new_record from <a href="../classes/Sequel/Model.html">Sequel::Model</a>
(jeremyevans)

</li>
<li>Add Model.def_dataset_method, for defining methods on the model that
reference methods on the dataset (jeremyevans)

</li>
<li>Deprecate Model.method_missing, add dataset methods to Model via
metaprogramming (jeremyevans)

</li>
<li>Remove Model.join, so it is the same as Dataset#join (jeremyevans)

</li>
<li>Use reciprocal associations for all types of associations in the
getter/setter/add_/remove_ methods (jeremyevans)

</li>
<li>Fix many_to_one associations to cache negative lookups (jeremyevans)

</li>
<li>Change Model#=== to always be false if the primary key is nil (jeremyevans)

</li>
<li>Add Model#hash, which should be unique for a given class and primary key
(or values if primary key is nil) (jeremyevans)

</li>
<li>Add Model#eql? as a alias to Model#== (jeremyevans)

</li>
<li>Make Model#reload clear any cached associations (jeremyevans)

</li>
<li>No longer depend on the assistance gem, merge the Inflector and Validations
code (jeremyevans)

</li>
<li>Add Model#set_with_params, which is Model#update_with_params without the
save (jeremyevans)

</li>
<li>Fix Model#destroy so that it returns self, not the result of after_destroy
(jeremyevans)

</li>
<li>Define Model column accessors in set_dataset, so they should always be
avaiable, deprecate Model#method_missing (jeremyevans)

</li>
<li>Add eager loading of associations via new sequel_core object graphing
feature (jeremyevans)

</li>
<li>Fix many_to_many associations with classes inside modules without an
explicit join table (jeremyevans)

</li>
<li>Allow creation of new records that don&#8216;t have primary keys when the
cache is on (jeremyevans) (213)

</li>
<li>Make Model#initialize, Model#set, and Model#update_with_params invulnerable
to memory exhaustion (jeremyevans) (210)

</li>
<li>Add Model.str_columns, which gives a list of columns as frozen strings
(jeremyevans)

</li>
<li>Remove pretty_table.rb from sequel, since it is in sequel_core
(jeremyevans)

</li>
<li>Set a timeout in the Sqlite adapter, default to 5 seconds
(hrvoje.marjanovic) (218)

</li>
<li>Document that calling Sequel::ODBC::Database#execute manually requires you
to manually drop the returned object (jeremyevans) (217)

</li>
<li>Paginating an already paginated/limited dataset now raises an error
(jeremyevans)

</li>
<li>Add support for PostgreSQL partial indexes (dlee)

</li>
<li>Added support for arbitrary index types (including spatial indexes) (dlee)

</li>
<li>Quote column names in SQL generated for SQLite (tmm1)

</li>
<li>Deprecate Object#rollback! (jeremyevans)

</li>
<li>Make some Dataset methods private (qualified_column_name, column_list,
table_ref, source_list) (jeremyevans)

</li>
<li>Deprecate Dataset methods set_options, set_row_proc, remove_row_proc, and
clone_merge (jeremyevans)

</li>
<li>Add <a href="../classes/Symbol.html">Symbol</a>#*, a replacement for
Symbol#all (jeremyevans)

</li>
<li>Deprecate including ColumnMethods in <a
href="../classes/Object.html">Object</a>, include it in <a
href="../classes/Symbol.html">Symbol</a>, <a
href="../classes/String.html">String</a>, and <a
href="../classes/Sequel/SQL/Expression.html">Sequel::SQL::Expression</a>
(jeremyevans)

</li>
<li>Deprecate Symbol#method_missing, and AS, DESC, ASC, ALL, and all from
ColumnMethods (jeremyevans)

</li>
<li>Fix table joining in MySQL (jeremyevans)

</li>
<li>Deprecate Sequel.method_missing and <a
href="../classes/Sequel.html">Object#Sequel</a>, add real Sequel.adapter
methods (jeremyevans)

</li>
<li>Move dataset methods applicable only to paginated datasets into <a
href="../classes/Sequel/Dataset/Pagination.html">Sequel::Dataset::Pagination</a>
(jeremyevans)

</li>
<li>Make Sequel::Dataset::Sequelizer methods private (jeremyevans)

</li>
<li>Deprecate Dataset#method_missing, add real mutation methods (e.g. filter!)
(jeremyevans)

</li>
<li>Fix connecting to an MSSQL server via ODBC using domain user credentials
(jeremyevans) (216)

</li>
<li>No longer depend on the assistance gem, merge in the ConnectionPool and
.blank methods (jeremyevans)

</li>
<li>No longer depend on ParseTree, RubyInline, or ruby2ruby, but you still need
them if you want to use the block filters (jeremyevans)

</li>
<li>Fix JDBC adapter by issuing index things start at 1 (pdamer)

</li>
<li>Fix connecting to a database via the ADO adapter (now requires options
instead of URI) (timuckun, jeremyevans) (204)

</li>
<li>Support storing microseconds in postgres timestamp fields
(schnarch&#8230;@rootimage.msu.edu) (215)

</li>
<li>Allow joining of multiple datasets, by making the table alias different for
each dataset joined (jeremyevans)

</li>
<li>SECURITY: Fix backslash escaping of strings (dlee)

</li>
<li>Add ability to create a graph of objects from a query, with the result
split into corresponding tables (jeremyevans) (113)

</li>
<li>Add attr_accessor for dataset row_proc (jeremyevans)

</li>
<li>Don&#8216;t redefine Dataset#each when adding a transform or row_proc
(jeremyevans)

</li>
<li>Remove array_keys.rb from sequel_core, it was partially broken (since the
arrays came from hashes), and redefined Dataset#each (jeremyevans)

</li>
<li>Fix MySQL default values insert (matt.binary) (196)

</li>
<li>Fix ODBC adapter improperly escaping date and timestamp values
(leo.borisenko) (165)

</li>
<li>Fix renaming columns on MySQL with type :varchar (jeremyevans) (206)

</li>
<li>Add <a
href="../classes/Sequel/SQL/Function.html">Sequel::SQL::Function</a>#==,
for comparing SQL Functions (jeremyevans) (209)

</li>
<li>Update Informix adapter to work with Ruby/Informix 0.7.0
(gerardo.santana@gmail.com)

</li>
<li>Remove sequel_core&#8216;s knowledge of <a
href="../classes/Sequel/Model.html">Sequel::Model</a> (jeremyevans)

</li>
<li>Use &quot;\n&quot; instead of $/ (since $/ can be redefined in ways we do
not want) (jeremyevans)

</li>
</ul>
<h3>1.4.0 (2008-04-08)</h3>
<ul>
<li>Don&#8216;t mark a column as changed unless the new value is different from
the current value (tamas.denes, jeremyevans) (203).

</li>
<li>Switch gem name from &quot;sequel_model&quot; to just &quot;sequel&quot;,
which required large version bump (jeremyevans).

</li>
<li>Add :select option to many_to_many associations, default to selecting only
the associated model table and not the join table (jeremyevans) (208).

</li>
<li>Add :reciprocal one_to_many association option, for setting corresponding
many_to_one instance variable (jeremyevans).

</li>
<li>Add eager loading implementation (jeremyevans).

</li>
<li>Change *_to_many associations so that the all associations are considered
:cache=&gt;true (jeremyevans).

</li>
<li>Fix associations with block arguments and :cache=&gt;true (jeremyevans).

</li>
<li>Merge 3 mysql patches from the bugtracker (mvyver) (200, 201, 202).

</li>
<li>Merge 2 postgresql patches from the bugtracker (a&#8230;@mellowtone.co.jp)
(211, 212).

</li>
<li>Allow overriding of default posgres spec database via
ENV[&#8216;SEQUEL_PG_SPEC_DB&#8217;] (jeremyevans).

</li>
<li>Allow using the <a href="../classes/Sequel/Model.html">Sequel::Model</a> as
the first argument in a dataset join selection (jeremyevans) (170).

</li>
<li>Add simple callback mechanism to make model eager loading implementation
easier (jeremyevans).

</li>
<li>Added <a
href="../classes/Sequel/Error/InvalidOperation.html">Sequel::Error::InvalidOperation</a>
class for invalid operations (198).

</li>
<li>Implemented MySQL::Database#server_version (199).

</li>
<li>Added spec configuration for MySQL socket file.

</li>
<li>Fixed transform with array tuples in postgres adapter.

</li>
<li>Changed spec configuration to Database objects instead of URIs in order to
support custom options for spec databases.

</li>
<li>Renamed schema files.

</li>
<li>Fixed Dataset#from to work correctly with SQL functions (193).

</li>
</ul>
<h3>Previous to 1.4.0, <a href="../classes/Sequel.html">Sequel</a> model and <a href="../classes/Sequel.html">Sequel</a> core versioning differed, see the bottom of this file for the changelog to <a href="../classes/Sequel.html">Sequel</a> model prior to 1.4.0.</h3>
<h3>1.3 (2008-03-08)</h3>
<ul>
<li>Added configuration file for running specs (186).

</li>
<li>Changed Database#drop_index to accept fixed arity (173).

</li>
<li>Changed column definition sql to put UNSIGNED constraint before unique in
order to satisfy MySQL (171).

</li>
<li>Enhanced MySQL adapter to support load data local infile_, added compress
option for mysql connection by default (172).

</li>
<li>Fixed bug when inserting hashes in array tuples mode.

</li>
<li>Changed SQLite adapter to catch RuntimeError raised when executing a
statement and raise an Error::InvalidStatement with the offending SQL and
error message (188).

</li>
<li>Added Error::InvalidStatement class.

</li>
<li>Fixed Dataset#reverse to not raise for unordered dataset (189).

</li>
<li>Added Dataset#unordered method and changed order to remove order if nil is
specified (190).

</li>
<li>Fixed reversing order of ASC expression (164).

</li>
<li>Added support for :null =&gt; true option when defining table columns
(192).

</li>
<li>Fixed Symbol#method_missing to accept variable arity (185).

</li>
</ul>
<h3>1.2.1 (2008-02-29)</h3>
<ul>
<li>Added add_constraint and drop_constraint functionality to
Database#alter_table (182).

</li>
<li>Enhanced Dataset#multi_insert to accept datasets (179).

</li>
<li>Added MySQL::Database#use method for switching database (180).

</li>
<li>Enhanced Database.uri_to_options to accept uri strings (178).

</li>
<li>Added Dataset#columns! method that always makes a roundtrip to the DB
(177).

</li>
<li>Added new Dataset#each_page method that iterates over all pages in the
result set (175).

</li>
<li>Added Dataset#reverse alias to Dataset#reverse_order (174).

</li>
<li>Fixed Dataset#transform_load and transform_save to create a trasnformed
copy of the supplied hash instead of transforming it in place (184).

</li>
<li>Implemented MySQL::Dataset#replace (163).

</li>
</ul>
<h3>1.2 (2008-02-15)</h3>
<ul>
<li>Added support for :varchar[100] like type declarations in create_table.

</li>
<li>Fixed rename_column in mysql adapter to support types like varchar(255)
(159).

</li>
<li>Added support for order and limit in DELETE statement in MySQL adapter
(160).

</li>
<li>Added checks to Dataset#multi_insert to prevent work if no values are given
(162).

</li>
<li>Override ruby2ruby implementation of Proc#to_sexp which leaks memory (161).

</li>
<li>Added log option, help for sequel script (157).

</li>
</ul>
<h3>1.1 (2008-02-15)</h3>
<ul>
<li>Fixed Dataset#join_table to support joining of datasets (156).

</li>
<li>Changed Dataset#empty? to use EXISTS condition instead of counting records,
for much better performance (158).

</li>
<li>Implemented insertion of multiple records in a single statement for
postgres adapter. This feature is available only in postgres 8.2 and newer.

</li>
<li>Implemented Postgres::Database#server_version.

</li>
<li>Implemented Database#get, short for dataset.get(...).

</li>
<li>Refactored Dataset#multi_insert, added import alias, added support for
calling multi_insert using array of columns and array of value arrays
(thanks David Lee).

</li>
<li>Implemented Dataset#get, a replacement for select(column).first[column].

</li>
<li>Implemented Dataset#grep method, poor man&#8216;s text search.

</li>
</ul>
<h3>1.0.10 (2008-02-13)</h3>
<ul>
<li>Fixed Datset#group_and_count to work inside a query block (152).

</li>
<li>Changed datasets with transforms to automatically transform hash filters
(155).

</li>
<li>Changed Marshal stock transform to use Base64 encoding with
backward-compatibility to support existing marshaled values (154).

</li>
<li>Added support for inserting multiple records in a single statement using
multi_insert in MySQL adapter (153).

</li>
<li>Added support for :slice option (same as :commit_every) in
Dataset#multi_insert.

</li>
<li>Changed Dataset#all to accept opts and iteration block.

</li>
</ul>
<h3>1.0.9 (2008-02-10)</h3>
<ul>
<li>Implemented Dataset#inspect and Database#inspect (151).

</li>
<li>Added full-text searching for odbc_mssql adapter (thanks Joseph Love).

</li>
<li>Added AlterTableGenerator#add_full_text_index method.

</li>
<li>Implemented full_text indexing and searching for PostgreSQL adapter (thanks
David Lee).

</li>
<li>Implemented full_text indexing and searching for MySQL adapter (thanks
David Lee).

</li>
<li>Fixed Dataset#insert_sql to work with array subscript references (thanks
Jim Morris).

</li>
</ul>
<h3>1.0.8 (2008-02-08)</h3>
<ul>
<li>Added support for multiple choices in string matching expressions (147).

</li>
<li>Renamed Dataset#clone_merge to Dataset#clone, works with or without options
for merging (148).

</li>
<li>Fixed MySQL::Database#&lt;&lt; method to always free the result in order to
allow multiple calls in a row (149). Same also for PostgreSQL adapter.

</li>
</ul>
<h3>1.0.7 (2008-02-05)</h3>
<ul>
<li>Added support for conditional filters (using if else statements) inside
block filters (thanks Kee).

</li>
</ul>
<h3>1.0.6 (2008-02-05)</h3>
<ul>
<li>Removed code pollution introduced in revs 814, 817 (really bad patch, IMO).

</li>
<li>Fixed joining datasets using aliased tables (140).

</li>
<li>Added support additional field types in postgresql adapter (146).

</li>
<li>Added support for date field types in postgresql adapter (145).

</li>
<li>Fixed Dataset#count to work correctly for grouped datasets (144).

</li>
<li>Added Dataset#select_more, Dataset#order_more methods (129).

</li>
</ul>
<h3>1.0.5 (2008-01-25)</h3>
<ul>
<li>Added support for instantiating models by using the load constructor
method.

</li>
</ul>
<h3>1.0.4.1 (2008-01-24)</h3>
<ul>
<li>Fixed bin/sequel to require sequel_model if available.

</li>
</ul>
<h3>1.0.4 (2008-01-24)</h3>
<ul>
<li>Added Dataset#select_all method.

</li>
<li>Changed ODBC::Database to support connection using driver and database
name, also added support for untitled columns in ODBC::Dataset (thanks
Leonid Borisenko).

</li>
<li>Fixed MySQL adapter to correctly format foreign key definitions (123).

</li>
<li>Changed MySQL::Dataset to allow HAVING clause on ungrouped datasets, and
put HAVING clause before ORDER BY clause (133).

</li>
<li>Changed Dataset#group_and_count to accept multiple columns (134).

</li>
<li>Fixed database spec to open YAML file in binary mode (131).

</li>
<li>Cleaned up gem spec (132).

</li>
<li>Added Dataset#table_exists? convenience method.

</li>
</ul>
<h3>1.0.3 (2008-01-17)</h3>
<ul>
<li>Added support for UNSIGNED constraint, used in MySQL? (127).

</li>
<li>Implemented constraint definitions inside Database#create_table.

</li>
<li>Fixed postgres adapter to define PGconn#async_exec as alias to exec if not
defined (for pure-ruby postgres driver).

</li>
<li>Added <a href="../classes/String.html#M000022">String#to_date</a>. Updated
mysql adapter to use <a
href="../classes/String.html#M000022">String#to_date</a> for mysql date
types (thanks drfreeze).

</li>
</ul>
<h3>1.0.2 (2008-01-14)</h3>
<ul>
<li>Removed ConnectionPool, NumericExtensions. Added dependency on assistance.

</li>
</ul>
<h3>1.0.1 (2008-01-12)</h3>
<ul>
<li>Changed postgres adapter to quote column references using double quotes.

</li>
<li>Applied patch for oracle adapter: fix behavior of limit and offset,
transactions, table_exists?, tables and additional specs (thanks Liming
Lian 122).

</li>
<li>Allow for additional filters on a grouped dataset (119 and 120)

</li>
<li>Changed mysql adapter to default to localhost if :host option is not
specified (114).

</li>
<li>Refactored Sequelizer to use Proc#to_sexp (method provided by r2r).

</li>
<li>Enhanced Database.connect to accept options with string keys, so it can now
accept options loaded from YAML files. Database.connect also automatically
converts :username option into :user for compatibility with existing YAML
configuration files for AR and DataMapper.

</li>
</ul>
<h3>1.0.0.1 (2008-01-03)</h3>
<ul>
<li>Changed MySQL adapter to support specifying socket option.

</li>
<li>Added support for limiting and paginating datasets with fixed SQL, gotten
with DB#fetch (thanks Ruy Diaz).

</li>
<li>Added new Dataset#from_self method that returns a dataset selecting from
the original dataset.

</li>
</ul>
<h3>1.0 (2008-01-02)</h3>
<ul>
<li>Removed deprecated adapter stubs.

</li>
<li>Removed <a href="../classes/Sequel/Model.html">Sequel::Model</a>() stub.

</li>
<li>Changed name to sequel_core.

</li>
<li>100% code coverage.

</li>
<li>Fixed error behavior when sequel_model is not available.

</li>
<li>Fixed error behavior when parse_tree or ruby2ruby are not available.

</li>
</ul>
<h3>0.5.0.2 (2008-01-01)</h3>
<ul>
<li>Fixed <a href="../classes/String.html#M000025">String#to_time</a> to raise
error correctly for invalid time stamps.

</li>
<li>Improved code coverage - now at 99.2%.

</li>
</ul>
<h3>0.5.0.1 (2007-12-31)</h3>
<ul>
<li>Added a stub for <a href="../classes/Sequel/Model.html">Sequel::Model</a>
that auto-loads sequel_model.

</li>
<li>Changed Sequel.method_missing and Database.adapter_class to raise
AdapterNotFound if an adapter could not be loaded.

</li>
<li>Fixed behavior of error trap in sequel command line tool.

</li>
</ul>
<h3>0.5 (2007-12-30)</h3>
<ul>
<li>Removed model code into separate sub-project. Rearranged trunk into core,
model and model_plugins.

</li>
</ul>
<h3>0.4.5 (2007-12-25)</h3>
<ul>
<li>Added rdoc for new alter_table functionality (109).

</li>
<li>Fixed update_sql with array sub-item keys (110).

</li>
<li>Refactored model specs.

</li>
<li>Added Model#update as alias to set.

</li>
<li>Refactored validations code. Renamed Model.validations? into
Model.has_validations?.

</li>
<li>Added initial Model validations (Thanks Lance Carlson)

</li>
<li>Added Database#set_column_default method (thanks Jim Morris.)

</li>
<li>Removed warning on uninitialized @transform value (thanks Jim Morris).

</li>
</ul>
<h3>0.4.4.2 (2007-12-20)</h3>
<ul>
<li>Fixed parsing errors in Ruby 1.9.

</li>
<li>Fixed sync problem in connection_pool_spec.

</li>
<li>Changed <a href="../classes/String.html#M000025">String#to_time</a> to
raise Error::InvalidValue if Time.parse fails.

</li>
<li>Refactored sequel error classes.

</li>
</ul>
<h3>0.4.4.1 (2007-12-19)</h3>
<ul>
<li>Fixed schema generation code to use field quoting and support
adapter-specific literalization of default values (108).

</li>
</ul>
<h3>0.4.4 (2007-12-17)</h3>
<ul>
<li>Implemented Database#rename_table (104).

</li>
<li>Fixed drop_index in mysql adapter (103).

</li>
<li>Added ALTER TABLE specs for postgres, sqlite and mysql adapters. Added
custom alter_table behavior for sqlite and mysql adapters (101, 102).

</li>
<li>Added direct Database API for altering tables.

</li>
<li>Added Database#alter_table method with support for adding, dropping,
renaming, modifying columns and adding and droppping indexes.

</li>
<li>Added unique schema method for defining unique indexes (thanks Dado).

</li>
<li>Implemented unfolding of each calls inside sequelizer blocks (thanks Jim
Morris).

</li>
</ul>
<h3>0.4.3 (2007-12-15)</h3>
<ul>
<li>Fixed Dataset#update to accept strings (98).

</li>
<li>Fixed Model.[] to raise for boolean argument (97).

</li>
<li>Added Database#add_index method (thanks coda.hale).

</li>
<li>Added error reporting for filtering on comparison not in a block (thanks
Jim Morris).

</li>
<li>Added support for inline index definition (thanks Dado).

</li>
<li>Added Database#create_table! method for forcibly creating a table (thanks
Dado).

</li>
<li>Added support for using Dataset#update with block.

</li>
<li>Changed subscript access to use | operator.

</li>
<li>Fixed subscript access in sequelizer.

</li>
<li>Added support for subscript access using <a
href="../classes/Symbol.html">Symbol</a>#/ operator.

</li>
</ul>
<h3>0.4.2.2 (2007-12-10)</h3>
<ul>
<li>Improved code coverage.

</li>
<li>Fixed Dataset#count to work properly with datasets with fixed SQL (when
using fetch).

</li>
<li>Added Model.create_with_params method that filters the given parameters
accordring to the model&#8216;s columns (thanks Aman Gupta).

</li>
</ul>
<h3>0.4.2.1 (2007-12-09)</h3>
<ul>
<li>Refactored and fixed Dataset#reverse_order to work with field quoting
(thanks Christian).

</li>
<li>Fixed problem with field quoting in insert statements.

</li>
<li>Changed sequelizer code to silently fail on any error when requiring
parsetree and ruby2ruby.

</li>
<li>Added Database#create_view, create_or_replace_view and drop_view methods.
Also implemented Dataset#create_view and create_or_replace_view convenience
methods.

</li>
<li>Keep DRY by re-using Model#[]= from method_missing.

</li>
<li>Added Model.fetch alias for DB.fetch.set_model(Model)

</li>
</ul>
<h3>0.4.2 (2007-12-07)</h3>
<ul>
<li>Implemented Model#save_changes.

</li>
<li>Extended Model#save to accept specific columns to update.

</li>
<li>Implemented experimental JDBC adapter.

</li>
<li>Added adapter skeleton as starting point for new adapters.

</li>
<li>Cleaned-up adapters and moved automatic requiring of &#8216;sequel&#8217;
to adapter stubs.

</li>
</ul>
<h3>0.4.1.3 (2007-12-05)</h3>
<ul>
<li>Better plugin conventions.

</li>
<li>Added experimental OpenBase adapter.

</li>
<li>Fixed <a href="../classes/Sequel.html">Sequel</a>.&lt;xxx&gt; methods to
accept options hash as well as database name. Fixed <a
href="../classes/Sequel.html#M000072">Sequel.connect</a> to accept options
hash as well as URI (Wayne).

</li>
</ul>
<h3>0.4.1.2 (2007-12-04)</h3>
<ul>
<li>Added release rake task (using RubyForge).

</li>
<li>Changed Model.is to accept variable arity.

</li>
<li>Implemented plugin loading for model classes.

</li>
<li>Fixed odbc-mssql and odbc adapters (thanks Dusty.)

</li>
<li>Implemented odbc-mssql adapter (thanks Dusty.)

</li>
</ul>
<h3>0.4.1.1 (2007-11-27)</h3>
<ul>
<li>Fixed first and last functionality in Informix::Dataset (thanks Gerardo
Santana).

</li>
</ul>
<h3>0.4.1 (2007-11-25)</h3>
<ul>
<li>Put adapter files in lib/sequel/adapters. Requiring sequel/&lt;adapter&gt;
is now deprecated. Users can now just require &#8216;sequel&#8217; and
adapters are automagically loaded (93).

</li>
</ul>
<h3>0.4.0 (2007-11-24)</h3>
<ul>
<li>Reorganized lib directory structure.

</li>
<li>Added support for dbi-xxx URI schemes (86).

</li>
<li>Fixed problem in Database#uri where setting the password would raise an
error (87).

</li>
<li>Improved Dataset#insert_sql to correctly handle string keys (92).

</li>
<li>Improved error-handling for worker threads. Errors are saved to an array
and are accessible through errors (91).

</li>
<li>Dataset#uniq/distinct can now accept a column list for DISTINCT ON clauses.

</li>
<li>Fixed Model.all.

</li>
<li>Fixed literalization of strings with escape sequences in postgres adapter
(90).

</li>
<li>Added support for literalizing BigDecimal values (89).

</li>
<li>Fixed column qualification for joined datasets (thanks Christian).

</li>
<li>Implemented experimental informix adapter.

</li>
</ul>
<h3>0.3.4.1 (2007-11-10)</h3>
<ul>
<li>Changed Dataset#select_sql to support queries without a FROM clause.

</li>
</ul>
<h3>0.3.4 (2007-11-10)</h3>
<ul>
<li>Fixed MySQL adapter to allow calling stored procedures (thanks Sebastian).

</li>
<li>Changed Dataset#each to always return self.

</li>
<li>Fixed SQL functions without arguments in block filters.

</li>
<li>Implemented super-cool Symbol#cast_as method.

</li>
<li>Fixed error message in command-line tool if failed to load adapter (85).

</li>
<li>Refactored code relating to column references for better extendibility
(88).

</li>
<li>Tiny fix to Model#run_hooks.

</li>
</ul>
<h3>0.3.3 (2007-11-04)</h3>
<ul>
<li>Revised code to generate SQL statements without trailing semicolons.

</li>
<li>Added Sequel::Worker implementation of a simple worker thread for
asynchronous execution.

</li>
<li>Added spec for Oracle adapter.

</li>
<li>Fixed Oracle adapter to format INSERT statements without semicolons (thanks
Liming Lian).

</li>
<li>Renamed alias to Array#keys as Array#columns instead of Array#fields.

</li>
<li>Renamed FieldCompositionMethods as ColumnCompositionMethods.

</li>
<li>Implemented Sequel::NumericExtensions to provide stuff like 30.days.ago.

</li>
</ul>
<h3>0.3.2 (2007-11-01)</h3>
<ul>
<li>Added to_column_name as alias to to_field_name, column_title as alias to
field_title.

</li>
<li>Added Dataset#interval method for getting interval between minimum/maximum
values for a column.

</li>
<li>Fixed Oracle::Database#execute (84).

</li>
<li>Added group_and_count as general implementation for count_by_xxx.

</li>
<li>Added count_by magic method.

</li>
<li>Added Dataset#range method for getting the minimum/maximum values for a
column.

</li>
<li>Fixed timestamp translation in SQLite adapter (83).

</li>
<li>Experimental DB2 adapter.

</li>
<li>Added Dataset#set as alias to Dataset#update.

</li>
<li>Removed long deprecated expressions.rb code.

</li>
<li>Better documentation.

</li>
<li>Implemented Dataset magic methods: order_by_xxx, group_by_xxx,
filter_by_xxx, all_by_xxx, first_by_xxx, last_by_xxx.

</li>
<li>Changed Model.create and Model.new to accept a block.

</li>
</ul>
<h3>0.3.1 (2007-10-30)</h3>
<ul>
<li>Typo fixes (79).

</li>
<li>Added require &#8216;yaml&#8217; to dataset.rb (78).

</li>
<li>Changed postgres adapter to use the ruby-postgres library&#8216;s type
conversion if available (76).

</li>
<li>Fixed string literalization in mysql adapter for strings with comment
backslashes in them (75).

</li>
<li>Fixed ParseTree dependency to work with version 2.0.0 and later (74).

</li>
<li>foreign_key definitions now accept :key option for specifying the remote
key (73).

</li>
<li>Fixed Model#method_missing to not raise error for columns not in the table
but for which a value exists (77).

</li>
<li>New documentation for Model.

</li>
<li>Implemented Oracle adapter based on ruby-oci8 library.

</li>
<li>Implemented Model#pk_hash. Is it really necessary?

</li>
<li>Deprecated Model#pkey. Implemented better Model#pk method.

</li>
<li>Specs and docs for Model.one_to_one, Model.one_to_many macros.

</li>
</ul>
<h3>0.3.0.1 (2007-10-20)</h3>
<ul>
<li>Changed Database#fetch to return a modified dataset.

</li>
</ul>
<h3>0.3 (2007-10-20)</h3>
<ul>
<li>Added stock transforms to Dataset#transform. Refactored Model.serialize.

</li>
<li>Added Database#logger= method for setting the database logger object.

</li>
<li>Fixed Model.[] to act as shortcut to Model.find when a hash is given (71).

</li>
<li>Added support for old and new decimal types in MySQL adapter, and updated
MYSQL_TYPES with MySQL 5.0 constants (72).

</li>
<li>Implemented Database#disconnect method for all adapters.

</li>
<li>Fixed small bug in ArrayKeys module.

</li>
<li>Implemented model caching by primary key.

</li>
<li>Separated Model.find and Model.[] functionality. Model.find takes a filter.
Model.[] is strictly for finding by primary keys.

</li>
<li>Enhanced Dataset#first to accept a filter block. Model#find can also now
accept a filter block.

</li>
<li>Changed Database#[] to act as shortcut to fetch if a string is given.

</li>
<li>Renamed Database#each to fetch. If no block is given, the method returns an
enumerator.

</li>
<li>Changed Dataset#join methods to correctly literalize values in join
conditions (70).

</li>
<li>Fixed filter with ranges to correctly literalize field names (69).

</li>
<li>Implemented Database#each method for quickly retrieving records with
arbitrary SQL (thanks Aman Gupta).

</li>
<li>Fixed bug in postgres adapter where a LiteralString would be literalized as
a regular <a href="../classes/String.html">String</a>.

</li>
<li>Fixed SQLite insert with subquery (68).

</li>
<li>Reverted back to hashes as default mode. Added Sequel.use_array_tuples and
Sequel.use_hash_tuples methods.

</li>
<li>Fixed problem with arrays with keys when using delete.

</li>
<li>Implemented ArrayKeys as substitute for ArrayFields.

</li>
<li>Added Dataset#each_hash method.

</li>
<li>Rewrote SQLite::Database#transaction to use sqlite3-ruby library
implementation of transactions.

</li>
<li>Fixed Model.destroy_all to work correctly in cases where no before_destroy
hook is defined and an after_destroy hook is defined.

</li>
<li>Restored Model.has_hooks? implementation.

</li>
<li>Changed Database#&lt;&lt; to strip comments and whitespace only when an
array is given.

</li>
<li>Changed Schema::Generator#primary_key to accept calls with the type
argument omitted.

</li>
<li>Hooks can now be prepended or appended by choice.

</li>
<li>Changed Model.subset to define filter method on the underlying dataset
instead of the model class.

</li>
<li>Fixed Dataset#transform to work with array fields.

</li>
<li>Added Dataset#to_csv method.

</li>
<li>PrettyTable can now extract column names from arrayfields.

</li>
<li>Converted ado, dbi, odbc adapters to use arrayfields instead of hashes.

</li>
<li>Fixed composite key support.

</li>
<li>Fixed Dataset#insert_sql, update_sql to support array fields.

</li>
<li>Converted sqlite, mysql, postgres adapters to use arrayfields instead of
hashes.

</li>
<li>Extended Dataset#from to auto alias sub-queries.

</li>
<li>Extended Dataset#from to accept hash for aliasing tables.

</li>
<li>Added before_update, after_update hooks.

</li>
</ul>
<h3>0.2.1.1 (2007-10-07)</h3>
<ul>
<li>Added Date literalization to sqlite adapter (60).

</li>
<li>Changed Model.serialize to allow calling it after the class is defined
(59).

</li>
<li>Fixed after_create hooks to allow calling save inside the hook (58).

</li>
<li>Fixed MySQL quoting of sql functions (57).

</li>
<li>Implemented rollback! global method for cancelling transactions in
progress.

</li>
<li>Fixed =~ operator in Sequelizer.

</li>
<li>Fixed ODBC::Dataset#fetch_rows (thanks Dusty).

</li>
<li>Renamed Model.recreate_table to create_table!. recreate_table is deprecated
and will issue a warning (56).

</li>
</ul>
<h3>0.2.1 (2007-09-24)</h3>
<ul>
<li>Added default implementation of Model.primary_key_hash.

</li>
<li>Fixed <a href="../classes/Sequel/Model.html">Sequel::Model</a>() to set
dataset for inherited classes.

</li>
<li>Rewrote Model.serialize to use Dataset#transform.

</li>
<li>Implemented Dataset#transform.

</li>
<li>Added gem spec for Windows (without ParseTree dependency).

</li>
<li>Added support for dynamic strings in Sequelizer (49).

</li>
<li>Query branch merged into trunk.

</li>
<li>Implemented self-changing methods.

</li>
<li>Add support for ternary operator to Sequelizer.

</li>
<li>Fixed sequelizer to evaluate expressions if they don&#8216;t involve
symbols or literal strings.

</li>
<li>Added protection against using each, delete, insert, update inside query
blocks.

</li>
<li>Improved Model#method_missing to deal with invalid attributes.

</li>
<li>Implemented Dataset#query.

</li>
<li>Added Dataset#group_by as alias for Dataset#group.

</li>
<li>Added Dataset#order_by as alias for Dataset#order.

</li>
<li>More model refactoring. Added support for composite keys.

</li>
<li>Added Dataset#empty? method (46).

</li>
<li>Fixed Symbol#to_field_name to support names with numbers and upper-case
characters (45).

</li>
<li>Added install_no_doc rake task.

</li>
<li>Partial refactoring of model code.

</li>
<li>Refactored dataset-model association and added Dataset#set_row_filter
method.

</li>
<li>Added support for case-sensitive regexps to mysql adapter.

</li>
<li>Changed mysql adapter to support encoding option as well.

</li>
<li>Added charset/encoding option to postgres adapter.

</li>
<li>Implemented Model.serialize (thanks Aman Gupta.)

</li>
<li>Changed Model.create to INSERT DEFAULT VALUES instead of (id) VALUES (null)
(brings back 41.)

</li>
<li>Fixed Model.new to work without arguments.

</li>
<li>Added Model.no_primary_key method to allow models without primary keys.

</li>
<li>Added Model#this method (42 thanks Duane Johnson).

</li>
<li>Fixed Dataset#insert_sql to use DEFAULT VALUES clause if argument is an
empty hash.

</li>
<li>Fixed Model.create to work correctly when no argument is passed (41).

</li>
</ul>
<h3>0.2.0.2 (2007-09-07)</h3>
<ul>
<li>Dataset#insert can now accept subqueries.

</li>
<li>Changed Migrator.apply to return the version.

</li>
<li>Changed <a href="../classes/Sequel/Model.html">Sequel::Model</a>() to cache
intermediate classes so descendant classes can be reopened (39).

</li>
<li>Added :charset option to MySQL adapter (40).

</li>
<li>Fixed Dataset#exclude to add parens around NOT expression (38).

</li>
<li>Fixed use of sub-queries with all comparison operators in block filters
(38).

</li>
<li>Fixed arithmetic expressions in block filters to not be literalized.

</li>
<li>Changed Symbol#method_missing to return LiteralString.

</li>
<li>Changed PrettyTable to right-align numbers.

</li>
<li>Fixed Model.create_table (thanks Duane Johnson.)

</li>
</ul>
<h3>0.2.0.1 (2007-09-04)</h3>
<ul>
<li>Improved support for invoking methods with inline procs inside block
filters.

</li>
</ul>
<h3>0.2.0 (2007-09-02)</h3>
<ul>
<li>Fixed Model.drop_table (thanks Duane Johnson.)

</li>
<li>Dataset#each can now return rows for arbitrary SQL by specifying :sql
option.

</li>
<li>Added spec for postgres adapter.

</li>
<li>Fixed Model.method_missing to work with new SQL generation.

</li>
<li>Fixed compare_expr to support regexps.

</li>
<li>Fixed postgres, mysql adapters to support regexps.

</li>
<li>More specs for block filters. Updated README.

</li>
<li>Added support for globals and $X macros in block filters.

</li>
<li>Fixed Sequelizer to not fail if ParseTree or Ruby2Ruby gems are missing.

</li>
<li>Renamed <a href="../classes/String.html#M000017">String#expr</a> into <a
href="../classes/String.html#M000016">String#lit</a> (expr should be
deprecated in future versions).

</li>
<li>Renamed Sequel::ExpressionString into LiteralString.

</li>
<li>Fixed <a href="../classes/Symbol.html">Symbol</a>#[] to return an
ExpressionString, so as not to be literalized.

</li>
<li>Renamed Dataset::Expressions to Dataset::Sequelizer.

</li>
<li>Renamed Expressions#format_re_expression to match_expr.

</li>
<li>Renamed Expressions#format_eq_expression to compare_expr.

</li>
<li>Added support for Regexp in MySQL adapter.

</li>
<li>Refactored Regexp expressions into a separate format_re_expression method.

</li>
<li>Added support for arithmetic in proc filters.

</li>
<li>Added support for nested proc expressions, more specs.

</li>
<li>Added support for SQL function using symbols, e.g. :sum[:x].

</li>
<li>Fixed deadlock bug in ConnectionPool.

</li>
<li>Removed deprecated old expressions.rb.

</li>
<li>Rewrote Proc filter feature using ParseTree.

</li>
<li>Added support for additional functions on columns using
Symbol#method_missing.

</li>
<li>Added support for supplying filter block to DB#[] method, to allow stuff
like DB[:nodes] {:path =~ /^icex1/}.

</li>
</ul>
<h3>0.1.9.12 (2007-08-26)</h3>
<ul>
<li>Added spec for PrettyTable.

</li>
<li>Added specs for Schema::Generator and Model (36 thanks technoweenie).

</li>
<li>Fixed Sequel::Model.set_schema (36 thanks technoweenie.)

</li>
<li>Added support for no options on Schema::Generator#foreign_key (36 thanks
technoweenie.)

</li>
<li>Implemented (restored?) Schema::Generator#primary_key_name (36 thanks
technoweenie.)

</li>
<li>Better spec code coverage.

</li>
</ul>
<h3>0.1.9.11 (2007-08-24)</h3>
<ul>
<li>Changed Dataset#set_model to allow supplying additional arguments to the
model&#8216;s initialize method (35). Thanks Sunny Hirai.

</li>
</ul>
<h3>0.1.9.10 (2007-08-22)</h3>
<ul>
<li>Changed schema generation code to generate separate statements for CREATE
TABLE and each CREATE INDEX (34).

</li>
<li>Refactored Dataset::SQL#field_name for better support of different field
quoting standards by specific adapters.

</li>
<li>Added current_page_record_count for paginated datasets.

</li>
<li>Removed Database#literal and included Dataset::SQL instead.

</li>
<li><a href="../classes/Sequel/Dataset.html">Sequel::Dataset</a>:SQL#field_name
can now take a hash (as well as select and any method that uses field_name)
for aliasing column names. E.g. DB[:test].select(:_qqa =&gt;
&#8216;Date&#8217;).sql #=&gt; &#8216;SELECT _qqa AS Date FROM test&#8217;.

</li>
<li>Moved SingleThreadedPool to lib/sequel/connection_pool.rb.

</li>
<li>Changed SQLite::Dataset to return affected rows for delete and update (33).

</li>
<li>ADO adapter: Added use of <a
href="../classes/Enumerable.html">Enumerable</a> for Recordset#Fields,
playing it safe and moving to the first row before getting results, and
changing the auto_increment constant to work for MSSQL.

</li>
</ul>
<h3>0.1.9.9 (2007-08-18)</h3>
<ul>
<li>New ADO adapter by cdcarter (31).

</li>
<li>Added automatic column aliasing to avg, sum, min and max (30).

</li>
<li>Fixed broken Sequel::DBI::Dataset#fetch_rows (29 thanks cdcarter.)

</li>
</ul>
<h3>0.1.9.8 (2007-08-15)</h3>
<ul>
<li>Fixed DBI adapter.

</li>
</ul>
<h3>0.1.9.7 (2007-08-15)</h3>
<ul>
<li>Added support for executing batch statements in sqlite adapter.

</li>
<li>Changed current_page_record_range to return 0..0 for an invalid page.

</li>
<li>Fixed joining of aliased tables.

</li>
<li>Improved Symbol#to_field_name to prevent false positives.

</li>
<li>Implemented Dataset#multi_insert with :commit_every option.

</li>
<li>More docs for Dataset#set_model.

</li>
<li>Implemented automatic creation of convenience methods for each adapter
(e.g. Sequel.sqlite etc.)

</li>
</ul>
<h3>0.1.9.6 (2007-08-13)</h3>
<ul>
<li>Refactored schema definition code. Gets rid of famous primary_key problem
as well as other issues (e.g. issue 22).

</li>
<li>Added pagination_record_count, page_range and current_page_record_range for
paginated datasets.

</li>
<li>Changed MySQL adapter to automatically reconnect (issue 26).

</li>
<li>Changed <a href="../classes/Sequel.html">Sequel</a>() to accept variable
arity.

</li>
<li>Added :elements option to column definition, in order to support ENUM and
SET types.

</li>
</ul>
<h3>0.1.9.5 (2007-08-12)</h3>
<ul>
<li>Fixed migration docs.

</li>
<li>Removed dependency on <a href="../classes/PGconn.html">PGconn</a> in Schema
class.

</li>
</ul>
<h3>0.1.9.4 (2007-08-11)</h3>
<ul>
<li>Added Sequel.dbi convenience method for using DBI connection strings to
open DBI databases.

</li>
</ul>
<h3>0.1.9.3 (2007-08-10)</h3>
<ul>
<li>Added support for specifying field size in schema definitions (thanks
Florian Aßmann.)

</li>
<li>Added migration code based on work by Florian Aßmann.

</li>
<li>Reintroduced metaid dependency. No need to keep a local copy of it.

</li>
</ul>
<h3>0.1.9.2 (2007-07-24)</h3>
<ul>
<li>Removed metaid dependency. Re-factored requires in lib/sequel.rb.

</li>
</ul>
<h3>0.1.9.1 (2007-07-22)</h3>
<ul>
<li>Improved robustness of MySQL::Dataset#field_name.

</li>
<li>Added Sequel.single_threaded= convenience method.

</li>
</ul>
<h3>0.1.9 (2007-07-21)</h3>
<ul>
<li>Fixed update_sql and insert_sql to support field quoting by calling
field_name.

</li>
<li>Implemented automatic data type conversion in mysql adapter.

</li>
<li>Added support for boolean literals in mysql adapter.

</li>
<li>Added support for ORDER and LIMIT clauses in UPDATE statements in mysql
adapter.

</li>
<li>Implemented correct field quoting (using back-ticks) in mysql adapter.

</li>
<li>Wrote basic MySQL spec.

</li>
<li>Fixd MySQL::Dataset to return correct data types with symbols as hash keys.

</li>
<li>Removed discunctional MySQL::Database#transaction.

</li>
<li>Added support for single threaded operation.

</li>
<li>Fixed bug in Dataset#format_eq_expression where <a
href="../classes/Range.html">Range</a> objects would not be literalized
correctly.

</li>
<li>Added parens around postgres LIKE expressions using regexps.

</li>
</ul>
<h3>0.1.8 (2007-07-10)</h3>
<ul>
<li>Implemented Dataset#columns for retrieving the columns in the result set.

</li>
<li>Updated Model with changes to how model-associated datasets work.

</li>
<li>Beefed-up specs. Coverage is now at 95.0%.

</li>
<li>Added support for polymorphic datasets.

</li>
<li>The adapter dataset interface was simplified and standardized. Only four
methods need be overriden: fetch_rows, update, insert and delete.

</li>
<li>The Dataset class was refactored. The bulk of the dataset code was moved
into separate modules.

</li>
<li>Renamed Dataset#hash_column to Dataset#to_hash.

</li>
<li>Added some common pragmas to sqlite adapter.

</li>
<li>Added Postgres::Dataset#analyze for EXPLAIN ANALYZE queries.

</li>
<li>Fixed broken Postgres::Dataset#explain.

</li>
</ul>
<h3>0.1.7</h3>
<ul>
<li>Removed db.synchronize wrapping calls in sqlite adapter.

</li>
<li>Implemented Model.join method to restrict returned columns to the model
table (thanks Pedro Gutierrez).

</li>
<li>Implemented Dataset#paginate method.

</li>
<li>Fixed after_destroy hook.

</li>
<li>Improved Dataset#first and last to accept a filter hash.

</li>
<li>Added Dataset#[]= method.

</li>
<li>Added <a href="../classes/Sequel.html">Sequel</a>() convenience method.

</li>
<li>Fixed Dataset#first to include a LIMIT clause for a single record.

</li>
<li>Small fix to Postgres driver to return a primary_key value for the inserted
record if it is specified in the insertion values (thanks Florian Aßmann
and Pedro Gutierrez).

</li>
<li>Fixed Symbol#DESC to support qualified notation (thanks Pedro Gutierrez).

</li>
</ul>
<h3>0.1.6</h3>
<ul>
<li>Fixed Model#method_missing to raise for an invalid attribute.

</li>
<li>Fixed PrettyTable to print model objects (thanks snok.)

</li>
<li>Fixed ODBC timestamp conversion to return DateTime rather than Time object
(thanks snok.)

</li>
<li>Fixed Model.method_missing (thanks snok.)

</li>
<li>Model.method_missing now creates stubs for calling Model.dataset methods.
Methods like Model.each etc are removed.

</li>
<li>Changed default join type to INNER JOIN (thanks snok.)

</li>
<li>Added support for literal expressions, e.g. DB[:items].filter(:col1 =&gt;
&#8216;col2 - 10&#8217;.expr).

</li>
<li>Added Dataset#and.

</li>
<li>SQLite adapter opens a memory DB if no database is specified, e.g.
Sequel.open &#8216;sqlite:/&#8217;.

</li>
<li>Added Dataset#or, pretty nifty.

</li>
</ul>
<h3>0.1.5</h3>
<ul>
<li>Fixed Dataset#join to support multiple joins. Added left_outer_join,
right_outer_join, full_outer_join, inner_join methods.

</li>
</ul>
<h3>0.1.4</h3>
<ul>
<li>Added <a href="../classes/String.html#M000018">String#split_sql</a>.

</li>
<li>Implemented <a href="../classes/Array.html#M000045">Array#to_sql</a> and <a
href="../classes/String.html#M000019">String#to_sql</a>. Database#to_sql
can now take an array of strings and convert into an SQL string. Comments
and excessive white-space are removed.

</li>
<li>Improved Schema generator to support data types as method names:
DB.create_table :test do

<pre>
  integer :abc
  text :def
  ...
</pre>
<p>
end
</p>
</li>
<li>Implemented ODBC adapter.

</li>
</ul>
<h3>0.1.3</h3>
<ul>
<li>Implemented DBI adapter.

</li>
<li>Refactored database connection code. Now handled through Database#connect.

</li>
</ul>
<h3>0.1.2</h3>
<ul>
<li>The first opened database is automatically assigned to to Model.db.

</li>
<li>Removed SequelConnectionError. Exception class errors are converted to
RuntimeError.

</li>
<li>Added support for UNION, INTERSECT and EXCEPT set operations.

</li>
<li>Fixed Dataset#single_record to return nil if no record is found.

</li>
<li>Updated specs to conform to RSpec 1.0.

</li>
<li>Added Model#find_or_create method.

</li>
<li>Fixed MySQL::Dataset#query_single (thanks Dries Harnie.)

</li>
<li>Added Model.subset method. Fixed Model.filter and Model.exclude to accept
blocks.

</li>
<li>Added Database#uri method.

</li>
<li>Refactored and removed deprecated code in postgres adapter.

</li>
</ul>
<h3>0.1.1</h3>
<ul>
<li>More documentation for Dataset.

</li>
<li>Added Dataset#size as alias to Dataset#count.

</li>
<li>Changed Database#&lt;&lt; to call execute (instead of being an alias). Thus
it will work for descendants as well.

</li>
<li>Fixed Sequel.open to accept variable arity.

</li>
<li>Refactored Model#refresh, Model.create. Removed Model#reload.

</li>
<li>Refactored Model hooks.

</li>
<li>Cleaned up Dataset API.

</li>
</ul>
<h3>0.1.0</h3>
<ul>
<li>Changed Database#create_table to only accept a block. Nobody&#8216;s gonna
use the other way.

</li>
<li>Removed Dataset#[]= method. Too confusing and not really useful.

</li>
<li>Fixed ConnectionPool#hold to wrap exceptions only once.

</li>
<li>Dataset#where_list Renamed Dataset#expression_list.

</li>
<li>Added support for qualified fields in Proc expressions (e.g. filter
{items.id == 1}.)

</li>
<li>Added like? and in? Proc expression operators.

</li>
<li>Added require &#8216;date&#8217; in dataset.rb. Is this a 1.8.5 thing?

</li>
<li>Refactored Dataset to use literal strings instead of format strings (slight
performance improvement and better readability.)

</li>
<li>Added support for literalizing Date objects.

</li>
<li>Refactored literalization of Time objects.

</li>
</ul>
<h3>0.0.20</h3>
<ul>
<li>Refactored Dataset where clause construction to use expressions.

</li>
<li>Implemented Proc expressions (adapted from a great idea by Sam Smoot.)

</li>
<li>Fixed Model#map.

</li>
<li>Documentation for ConnectionPool.

</li>
<li>Specs for Database.

</li>
</ul>
<h3>0.0.19</h3>
<ul>
<li>More specs for Dataset.

</li>
<li>Fixed Dataset#invert_order to work correctly with strings.

</li>
<li>Fixed Model#== to check equality of values.

</li>
<li>Added Model#exclude and Model#order.

</li>
<li>Fixed Dataset#order and Dataset#group to behave correctly when supplied
with qualified field name symbols.

</li>
<li>Removed Database#literal. Shouldn&#8216;t have been there.

</li>
<li>Added SQLite::Dataset#explain. Returns an array of opcode hashes.

</li>
<li>Specs for ConnectionPool.

</li>
</ul>
<h3>0.0.18</h3>
<ul>
<li>Implemented SequelError and SequelConnectionError classes.
ConnectionPool#hold now catches any connection errors and reraises them
SequelConnectionError.

</li>
<li>Removed duplication in Database#[].

</li>
<li>:from and :select options are now always arrays (patch by Alex Bradbury.)

</li>
<li>Fixed Dataset#exclude to work correctly (patch and specs by Alex Bradbury.)

</li>
</ul>
<h3>0.0.17</h3>
<ul>
<li>Fixed Postgres::Database#tables to return table names as symbols (caused
problem when using Database#table_exists?).

</li>
<li>Fixed Dataset#from to have variable arity, like Dataset#select and
Dataset#where (patch by Alex Bradbury.)

</li>
<li>Added support for GROUP BY and HAVING clauses (patches by Alex Bradbury.)
Refactored Dataset#filter.

</li>
<li>More specs.

</li>
<li>Refactored Dataset#where for better composability.

</li>
<li>Added Dataset#[]= method.

</li>
<li>Added support for DISTINCT and OFFSET clauses (patches by Alex Bradbury.)
Dataset#limit now accepts ranges. Added Dataset#uniq and distinct methods.

</li>
</ul>
<h3>0.0.16</h3>
<ul>
<li>More documentation.

</li>
<li>Added support for subqueries in Dataset#literal.

</li>
<li>Added support for Model.all_by_XXX methods through Model.method_missing.

</li>
<li>Added basic SQL logging to Database.

</li>
<li>Added <a href="../classes/Enumerable.html#M000777">Enumerable#send_each</a>
convenience method.

</li>
<li>Changed Dataset#destroy to return the number of deleted records.

</li>
</ul>
<h3>0.0.15</h3>
<ul>
<li>Improved Dataset#insert_sql to allow arrays as well as hashes.

</li>
<li>Database#drop_table now accepts a list of table names.

</li>
<li>Added Model#id to to return the id column.

</li>
</ul>
<h3>0.0.14</h3>
<ul>
<li>Fixed Model&#8216;s attribute accessors (hopefully for the last time).

</li>
<li>Changed Model.db and Model.db= to allow different databases for different
model classes.

</li>
<li>Fixed bug in aggregate methods (max, min, etc) for datasets using record
classes.

</li>
</ul>
<h3>0.0.13</h3>
<ul>
<li>Fixed Model#method_missing to do both find, filter and attribute accessors.
duh.

</li>
<li>Fixed bug in Dataset#literal when quoting arrays of strings (thanks Douglas
Koszerek.)

</li>
</ul>
<h3>0.0.12</h3>
<ul>
<li>Model#save now correctly performs an INSERT for new objects.

</li>
<li>Added Model#reload for reloading an object from the database.

</li>
<li>Added Dataset#naked method for getting a version of a dataset that fetches
records as hashes.

</li>
<li>Implemented attribute accessors for column values ala ActiveRecord models.

</li>
<li>Fixed filtering using nil values (e.g. dataset.filter(:parent_id =&gt;
nil)).

</li>
</ul>
<h3>0.0.11</h3>
<ul>
<li>Renamed Model.schema to Model.set_schema and Model.get_schema to
Model.schema.

</li>
<li>Improved Model class to allow descendants of model clases (thanks Pedro
Gutierrez.)

</li>
<li>Removed require &#8216;postgres&#8217; in schema.rb (thanks Douglas
Koszerek.)

</li>
</ul>
<h3>0.0.10</h3>
<ul>
<li>Added some examples.

</li>
<li>Added Dataset#print method for pretty-printing tables.

</li>
</ul>
<h3>0.0.9</h3>
<ul>
<li>Fixed Postgres::Database#tables and locks methods.

</li>
<li>Added PGconn#last_insert_id method that should support all 7.x and 8.x
versions of Postgresql.

</li>
<li>Added Dataset#exists method for EXISTS where clauses.

</li>
<li>Changed behavior of Dataset#literal to regard symbols as field names.

</li>
<li>Refactored and DRY&#8216;d Dataset#literal and overrides therof. Added
support for subqueries in where clause.

</li>
</ul>
<h3>0.0.8</h3>
<ul>
<li>Fixed Dataset#reverse_order to provide chainability. This method can be
called without arguments to invert the current order or with arguments to
provide a descending order.

</li>
<li>Fixed literal representation of literals in SQLite adapter (thanks
Christian Neukirchen!)

</li>
<li>Refactored insert code in Postgres adapter (in preparation for fetching the
last insert id for pre-8.1 versions).

</li>
</ul>
<h3>0.0.7</h3>
<ul>
<li>Fixed bug in Model.schema, duh!

</li>
</ul>
<h3>0.0.6</h3>
<ul>
<li>Added Dataset#sql as alias to Dataset#select_sql.

</li>
<li>Dataset#where and Dataset#exclude can now be used for refining dataset
conditions, enabling stuff like posts.where(:title =&gt;
&#8216;abcdef&#8217;).exclude(:user_id =&gt; 3).

</li>
<li>Implemented Dataset#exclude method.

</li>
<li>Added Sequel::Schema#auto_primary_key method for setting an automatic
primary key to be added to every table definition. Changed the schema
generator to not define a primary key by default.

</li>
<li>Changed Sequel::Database#table_exists? to rely on the tables method if it
is available.

</li>
<li>Implemented SQLite::Database#tables.

</li>
</ul>
<h3>0.0.5</h3>
<ul>
<li>Added Dataset#[] method. Refactored Model#find and Model#[].

</li>
<li>Renamed Pool#conn_maker to Pool#connection_proc.

</li>
<li>Added automatic require &#8216;sequel&#8217; to all adapters for
convenience.

</li>
</ul>
<h3>0.0.4</h3>
<ul>
<li>Added preliminary MySQL support.

</li>
<li>Code cleanup.

</li>
</ul>
<h3>0.0.3</h3>
<ul>
<li>Add Dataset#sum method.

</li>
<li>Added support for exclusive ranges (thanks Christian Neukirchen.)

</li>
<li>Added sequel console for quick&#8216;n&#8216;dirty access to databases.

</li>
<li>Fixed small bug in Dataset#qualified_field_name for better join support.

</li>
</ul>
<h3>0.0.2</h3>
<ul>
<li>Added Sequel.open as alias to <a
href="../classes/Sequel.html#M000072">Sequel.connect</a>.

</li>
<li>Refactored Dataset#where_equal_condition into Dataset#where_condition,
allowing arrays and ranges, e.g. posts.filter(:stamp =&gt;
(3.days.ago)..(1.day.ago)), or posts.filter(:category =&gt;
[&#8216;ruby&#8217;, &#8216;postgres&#8217;, &#8216;linux&#8217;]).

</li>
<li>Added Model#[]= method for changing column values and Model#save

</li>
</ul>
<p>
method for saving them.
</p>
<ul>
<li>Added Dataset#destroy for deleting each record individually as support for
models. Renamed Model#delete to Model#destroy (and Model#destroy_all) ala
ActiveRecord.

</li>
<li>Refactored Dataset#first and Dataset#last code. These methods can now
accept the number of records to fetch.

</li>
</ul>
<h3>0.0.1</h3>
<ul>
<li>More documentation for Dataset.

</li>
<li>Renamed Database#query to Database#dataset.

</li>
<li>Added Dataset#insert_multiple for inserting multiple records.

</li>
<li>Added Dataset#&lt;&lt; as shorthand for inserting records.

</li>
<li>Added Database#&lt;&lt; method for executing arbitrary SQL.

</li>
<li>Imported <a href="../classes/Sequel.html">Sequel</a> code.

</li>
</ul>
<h2><a href="../classes/Sequel/Model.html">Sequel::Model</a> CHANGELOG 0.1 - 0.5.0.2</h2>
<h3>0.5.0.2 (2008-03-12)</h3>
<ul>
<li>More fixes for Model.associate to accept strings and symbols as class
references.

</li>
</ul>
<h3>0.5.0.1 (2008-03-09)</h3>
<ul>
<li>Fixed Model.associate to accept class and class name in :class option.

</li>
</ul>
<h3>0.5 (2008-03-08)</h3>
<ul>
<li>Merged new associations branch into trunk.

</li>
<li>Rewrote RDoc for associations.

</li>
<li>Added has_and_belongs_to_many alias for many_to_many.

</li>
<li>Added support for optional dataset block.

</li>
<li>Added :order option to order association datasets.

</li>
<li>Added :cache option to return and cache array of objects for association.

</li>
<li>Changed one_to_many, many_to_many associations to return dataset by
default.

</li>
<li>Added has_many, belongs_to aliases.

</li>
<li>Refactored associations code.

</li>
<li>Added deprecations for old-style relations.

</li>
<li>Completed specs for new associations code.

</li>
<li>New associations code by Jeremy Evans (replaces relations code.)

</li>
</ul>
<h3>0.4.2 (2008-02-29)</h3>
<ul>
<li>Fixed one_to_many implicit key to work correctly for namespaced classes
(167).

</li>
<li>Fixed Model.db= to affect the underlying dataset (183).

</li>
<li>Fixed Model.implicit_table_name to disregard namespaces.

</li>
</ul>
<h3>0.4.1 (2008-02-10)</h3>
<ul>
<li>Implemented Model#inspect (151).

</li>
<li>Changed Model#method_missing to short-circuit and bypass checking columns
if the values hash already contains the relevant column (150).

</li>
<li>Updated to reflect changes in sequel_core (Dataset#clone_merge renamed to
Dataset#clone).

</li>
</ul>
<h3>0.4 (2008-02-05)</h3>
<ul>
<li>Fixed Model#set to work with string keys (143).

</li>
<li>Fixed Model.create to correctly initialize instances marked as new (135).

</li>
<li>Fixed Model#initialize to convert string keys into symbol keys. This also
fixes problem with validating objects initialized with string keys (136).

</li>
</ul>
<h3>0.3.3 (2008-01-25)</h3>
<ul>
<li>Finalized support for virtual attributes.

</li>
</ul>
<h3>0.3.2.1 (2008-01-24)</h3>
<ul>
<li>Fixed Model.dataset to correctly set the dataset if using implicit naming
or inheriting the superclass dataset (thanks celldee).

</li>
</ul>
<h3>0.3.2 (2008-01-24)</h3>
<ul>
<li>Added Model#update_with_params method with support for virtual attributes
and auto-filtering of unrelated parameters, and changed
Model.create_with_params to support virtual attributes (128).

</li>
<li>Cleaned up gem spec (132).

</li>
<li>Removed validations code. Now relying on validations in assistance gem.

</li>
</ul>
<h3>0.3.1 (2008-01-21)</h3>
<ul>
<li>Changed Model.dataset to use inflector to pluralize the class name into the
table name. Works in similar fashion to table names in AR or DM.

</li>
</ul>
<h3>0.3 (2008-01-18)</h3>
<ul>
<li>Implemented Validatable::Errors class.

</li>
<li>Added Model#reload as alias to Model#refresh.

</li>
<li>Changed Model.create to accept a block (126).

</li>
<li>Rewrote validations.

</li>
<li>Fixed Model#initialize to accept nil values (115).

</li>
</ul>
<h3>0.2 (2008-01-02)</h3>
<ul>
<li>Removed deprecated Model.recreate_table method.

</li>
<li>Removed deprecated :class and :on options from one_to_many macro.

</li>
<li>Removed deprecated :class option from one_to_one macro.

</li>
<li>Removed deprecated Model#pkey method.

</li>
<li>Changed dependency to sequel_core.

</li>
<li>Removed examples from sequel core.

</li>
<li>Additional specs. We&#8216;re now at 100% coverage.

</li>
<li>Refactored hooks code. Hooks are now inheritable, and can be defined by
supplying a block or a method name, or by overriding the hook instance
method. Hook chains can now be broken by returning false (111, 112).

</li>
</ul>
<h3>0.1 (2007-12-30)</h3>
<ul>
<li>Moved model code from sequel into separate model sub-project.

</li>
</ul>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>